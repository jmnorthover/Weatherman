(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{12:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),l=a.n(r),i=a(1),s=function(e){var t=e.setZipCode,a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],s=r[1],u=/^\d{5}$/;return c.a.createElement("div",{className:"splash"},c.a.createElement("div",{className:"splash-content"},c.a.createElement("h1",{class:"logo"},"WEATHERMAN"),c.a.createElement("h2",{class:"zip_prompt"},"Enter your zipcode:"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u.test(l)&&t(l)}},c.a.createElement("input",{type:"text",placeholder:"55555",required:!0,value:l,onChange:function(e){return s(e.target.value)}}))))},u=a(14),o=function(e){var t=e.data,a=t.weather[0].icon;return c.a.createElement("div",{className:"forecast-card"},c.a.createElement("div",null,Object(u.a)(new Date(1e3*t.dt),"p")),c.a.createElement("div",null,c.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(a,"@2x.png"),alt:t.weather[0].description})),c.a.createElement("div",{className:"forecast-temp"},Math.round(t.main.temp),"\xb0"))},m=a(2),d=a.n(m),p=a(5),h=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/weather/".concat(t),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=e.zipCode,a=e.setZipCode,r=Object(n.useState)(null),l=Object(i.a)(r,2),s=l[0],u=l[1],m=Object(n.useState)(null),d=Object(i.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(!1),v=Object(i.a)(f,2),b=v[0],w=v[1];return Object(n.useEffect)((function(){h(t).then((function(e){u(e.currentWeather),E(e.forecast)})).catch((function(e){w(!0)}))}),[t]),s&&p?c.a.createElement("div",{className:"weather-display"},c.a.createElement("div",{className:"change",onClick:function(){return a("")}},"Change Location"),c.a.createElement("div",{className:"location"},s.name),c.a.createElement("h2",{className:"weather-desc"},s.weather[0].description),c.a.createElement("div",{className:"temp"},Math.round(s.main.temp),"\xb0"),c.a.createElement("div",{className:"sub-info"},c.a.createElement("div",null,"Feels like: ",Math.round(s.main.feels_like),"\xb0"),c.a.createElement("div",null,"Humidity: ",s.main.humidity,"%"),c.a.createElement("div",null,"Wind: ",Math.round(s.wind.speed)," mph")),c.a.createElement("div",{className:"forecast"},p.map((function(e){return c.a.createElement(o,{data:e,key:e.dt})})))):b?c.a.createElement("div",{className:"weather-display"},c.a.createElement("h2",null,"Failed to fetch weather data."),c.a.createElement("h2",null,"Zip code may be invalid."),c.a.createElement("div",{className:"failed-zip",onClick:function(){return a("")}},"Change Zip")):""},f=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"container"},a?c.a.createElement(E,{zipCode:a,setZipCode:r}):c.a.createElement(s,{setZipCode:r}))};l.a.render(c.a.createElement(f,null),document.getElementById("root"))},6:function(e,t,a){e.exports=a(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.d5624a3c.chunk.js.map